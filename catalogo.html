<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Serviços - MB Tech</title>
    <link rel="icon" href="img.jpeg" type="image/jpeg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="manifest" href="/manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* PALETA: Fundo escuro, Destaque #ff2b2b (Vermelho Vibrante) */

        * {
            box-sizing: border-box; 
        }

        body {
            font-family: 'Roboto', 'Inter', sans-serif; 
            background: linear-gradient(135deg, #0f0f0f, #1a1a1a); /* Fundo Escuro */
            color: #ccc; /* Texto principal em cinza claro */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-top: 60px; 
        }

        /* --- CLASSE DE DESFOQUE (Blur) --- */
        .blur-content {
            filter: blur(5px);
            pointer-events: none;
            user-select: none; 
            transition: filter 0.3s ease-in-out;
        }

        .chat-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); 
            z-index: 1010;
        }
        /* --- FIM CLASSE DE DESFOQUE --- */


        /* --- Cabeçalho --- */
        header {
            position: fixed; 
            top: 0; 
            left: 0;
            width: 100%; 
            z-index: 1000; 
            background-color: #121212; 
            color: white;
            padding: 12px 20px; 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); 
            transition: filter 0.3s ease-in-out; 
        }

        .header-content {
            display: flex;
            align-items: center;
            max-width: 1200px; 
            margin: 0 auto;
        }

        .header-icon {
            font-size: 24px; 
            margin-right: 15px;
            color: #ff2b2b; 
        }

        h1 {
            margin: 0;
            font-size: 24px; 
            font-weight: 700; 
            white-space: nowrap; 
        }

        .back-link {
            color: #fff;
            background: #ff2b2b;
            padding: 8px 15px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-left: auto;
            transition: background 0.3s ease, transform 0.3s ease;
            white-space: nowrap;
        }

        .back-link:hover {
            background-color: #ff1a1a;
            transform: scale(1.02);
        }


        main {
            flex: 1;
            padding: 30px 20px; 
            max-width: 1200px;
            margin: 0 auto; 
            width: 100%;
            transition: filter 0.3s ease-in-out; 
        }

        /* --- Barra de Pesquisa (Input) --- */
        .search-container {
            display: flex;
            align-items: center;
            border: 2px solid #333; 
            border-radius: 12px; 
            padding: 12px 15px; 
            margin-bottom: 30px; 
            background-color: #1f1f1f; 
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5); 
            transition: box-shadow 0.3s, border-color 0.3s;
        }

        .search-container:focus-within {
            border-color: #ff2b2b; 
            box-shadow: 0 6px 15px rgba(255, 43, 43, 0.3); 
        }

        #search-input {
            flex-grow: 1;
            border: none;
            padding: 0;
            font-size: 16px;
            outline: none; 
            background: none;
            color: #fff;
        }

        .search-icon {
            color: #ff2b2b;
            margin-right: 15px;
            font-size: 18px;
        }

        /* --- Tabela --- */
        table {
            width: 100%;
            border-collapse: separate; 
            border-spacing: 0;
            margin: 0; 
            overflow: hidden; 
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); 
        }

        th, td {
            padding: 18px 15px; 
            text-align: left;
            border-bottom: 1px solid #333; 
            font-size: 15px;
        }

        th {
            background-color: #1f1f1f; 
            color: #ff2b2b; 
            font-weight: 600;
        }

        tbody tr {
            background-color: #2a2a2a; 
            transition: background-color 0.3s;
        }

        tbody tr:hover {
            background-color: #383838; 
        }

        td {
            color: #fff; 
        }
        
        td a {
            color: #ff2b2b; 
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        td a:hover {
            text-decoration: underline;
            color: #ff1a1a; 
        }

        th i {
            margin-right: 8px;
            color: #ff2b2b;
        }

        /* --- Paginação --- */
        .pagination {
            text-align: center; /* CENTRALIZADO */
            margin: 30px 0 20px;
        }

        .page-button {
            padding: 8px 14px; 
            margin: 0 4px;
            border: 2px solid #333; 
            background-color: transparent; 
            color: #ccc; 
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
            font-weight: 500;
        }

        .page-button:hover {
            background-color: #ff2b2b; 
            color: #121212; 
            border-color: #ff2b2b;
        }

        .page-button.active {
            background-color: #ff2b2b;
            color: white;
            border-color: #ff2b2b;
            font-weight: 600;
        }


        /* --- Rodapé --- */
        footer {
            /* REMOVE O FIXO - Rodapé Normal */
            position: relative; 
            
            text-align: center;
            padding: 15px;
            background-color: #0f0f0f;
            color: #777;
            font-size: 14px;
            transition: filter 0.3s ease-in-out; 
        }

        footer p {
            margin: 0;
        }

        /* --- Botão de Chat Fixo (FAB) --- */
        .chat-fab {
            position: fixed;
            bottom: 25px; 
            right: 25px; 
            background-color: #25D366; 
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%; 
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            text-decoration: none;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.4); 
            transition: transform 0.3s ease-in-out, background-color 0.3s;
            z-index: 1010; 
        }

        .chat-fab:hover {
            background-color: #1DA851; 
            transform: scale(1.05); 
        }

        /* --- Estilos para o Modal de Chat (Pop-up) --- */
        .chat-modal {
            display: none; 
            position: fixed;
            bottom: 90px; 
            right: 25px;
            width: 350px; 
            max-height: 480px; 
            background-color: #1f1f1f; 
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            z-index: 1020;
            animation: fadeIn 0.3s;
        }

        /* Estilo do Backdrop (Fundo Fosco) */
        .chat-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); 
            z-index: 1010;
        }

        .chat-content {
            display: flex;
            flex-direction: column;
            height: 100%; 
        }

        .chat-header {
            background-color: #25D366; 
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            font-weight: 600;
            position: relative;
        }

        .chat-header-icon {
            color: white; 
            margin-right: 10px;
        }

        .close-btn {
            position: absolute;
            top: 5px;
            right: 10px;
            color: white;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }

        .chat-body {
            padding: 15px;
            overflow-y: auto; 
            flex-grow: 1; 
            padding-bottom: 20px; 
        }

        .bot-message {
            background-color: #2a2a2a; 
            color: #fff;
            padding: 10px;
            border-radius: 10px 10px 10px 0;
            margin-bottom: 10px;
            line-height: 1.4;
            max-width: 85%;
            align-self: flex-start;
        }

        .user-message {
            background-color: #ff2b2b; 
            color: white;
            padding: 10px;
            border-radius: 10px 10px 0 10px;
            margin-bottom: 10px;
            line-height: 1.4;
            text-align: right;
            max-width: 85%;
            margin-left: auto; 
        }

        .chat-option {
            display: block; 
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            background-color: #ff2b2b;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.2s;
            font-weight: 500;
        }

        .chat-option:hover {
            background-color: #ff1a1a;
        }

        .whatsapp-link-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 600;
            padding: 12px;
            background-color: #25D366; 
            text-decoration: none; 
        }

        .whatsapp-link-btn:hover {
            background-color: #1DA851;
        }

        .whatsapp-link-btn i {
            margin-right: 8px;
        }

        .chat-input-container {
            border-top: 1px solid #333;
            background-color: #1f1f1f;
            padding: 10px; 
            width: 100%;
            box-sizing: border-box;
        }

        .chat-input-container:not(.hidden) {
            display: flex;
            align-items: center;
        }

        .chat-input-container.hidden {
            display: none;
        }

        .chat-input-container input {
            flex-grow: 1;
            padding: 8px; 
            border: 1px solid #444;
            border-radius: 6px;
            margin-right: 5px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
            background-color: #121212;
            color: #fff;
        }

        .chat-input-container input:focus {
            border-color: #ff2b2b;
        }

        .chat-input-container button {
            background-color: #ff2b2b; 
            color: white;
            border: none;
            padding: 8px 10px; 
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 35px;
        }

        .chat-input-container button:hover {
            background-color: #ff1a1a;
        }


        /* --- OTIMIZAÇÃO MOBILE (Telas de até 600px de largura) --- */
        @media (max-width: 600px) {
            
            /* --- CABEÇALHO COMPACTO --- */
            header {
                padding: 10px 15px;
            }
            
            .back-link {
                padding: 6px 10px;
                font-size: 14px;
                margin-left: 10px; 
            }

            main {
                padding: 20px 10px;
            }

            /* --- TABELA RESPONSIVA (Mobile-First Table) --- */
            table { display: block; overflow-x: hidden; border-radius: 0; box-shadow: none; }
            thead { display: none; }
            tbody { display: block; }
            tr { display: block; margin-bottom: 15px; border: 1px solid #333; border-radius: 6px; background-color: #2a2a2a; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5); }
            td { display: block; text-align: right; padding-left: 50%; position: relative; border-bottom: 1px solid #333; font-size: 14px; }
            td:last-child { border-bottom: none; }
            td:before { content: attr(data-label); position: absolute; left: 15px; width: calc(50% - 20px); text-align: left; font-weight: 600; color: #ff2b2b; }
            
            /* --- CHAT BOT MOBILE --- */
            .chat-fab {
                width: 50px;
                height: 50px;
                font-size: 25px;
                bottom: 15px;
                right: 15px;
            }

            .chat-modal {
                width: calc(100% - 30px); 
                right: 15px;
                bottom: 75px;
                max-height: 75vh; 
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <i class="fas fa-tools header-icon"></i> 
            <h1>Catálogo de Serviços</h1>
            <a href="index.html" class="back-link">Voltar ao Site</a>
        </div>
    </header>

    <div id="backdrop" class="chat-backdrop"></div> 

    <div id="main-content">
        <main>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="search-input" placeholder="Pesquisar por Serviço, Ramo ou Objetivo...">
            </div>
            <table>
                <thead>
                    <tr>
                        <th><i class="fas fa-file-alt"></i> Serviço</th>
                        <th><i class="fas fa-briefcase"></i> Ramo</th>
                        <th><i class="fas fa-bullseye"></i> Objetivo</th>
                        <th><i class="fas fa-link"></i> Link</th>
                    </tr>
                </thead>
                <tbody id="service-list">
                    </tbody>
            </table>
            <div id="pagination" class="pagination"></div> </main>

        <footer>
            <p>&copy; MB Tech | 2025</p>
        </footer>
    </div>
    <button class="chat-fab" title="Precisa de ajuda? Fale conosco!" onclick="openChat()">
        <i class="fas fa-robot"></i> 
    </button>

    <div id="chat-modal" class="chat-modal">
        <div class="chat-content">
            <div class="chat-header">
                <i class="fas fa-robot chat-header-icon"></i>
                <span>Assistente MB Tech</span>
                <button class="close-btn" onclick="closeChat()">&times;</button>
            </div>
            <div id="chat-body" class="chat-body">
                </div>
            <div id="chat-input-container" class="chat-input-container hidden">
                <input type="text" id="chat-input" placeholder="Digite seu nome..." onkeydown="if(event.key === 'Enter') handleInput()">
                <button onclick="handleInput()"><i class="fas fa-arrow-right"></i></button>
            </div>
        </div>
    </div>
    
    <script>
        // Lógica do Chat Bot e Catálogo de Serviços
        const services = [
            {
                name: "Planilha de Controle Financeiro",
                sector: "Finanças",
                purpose: "Organizar finanças PJ/PF",
                link: "https://google.com"
            },
            {
                name: "Dashboard de Controle Financeiro",
                sector: "Finanças",
                purpose: "Visualização de Controle Financeiro",
                link: "https://bragamy001.github.io/fimatendimento/"
            }
            ,
            
            {
                name: "Planilha de Solicitação de Acesso à Transações SAP",
                sector: "Logística",
                purpose: "Planilha de Solicitação de Acesso à Transações SAP",
                link: "https://google.com"
            }
            ,


            {
                name: "Manutenção",
                sector: "Manutenção",
                purpose: "Manutenção",
                link: "https://google.com"
            }    ,
            
            {
                name: "Acompanhamento acadêmico",
                sector: "Acadêmico",
                purpose: "Acadêmico",
                link: "https://google.com"
            }    ,
            {
                name: "Dashboard de Controle Financeiro",
                sector: "Finanças",
                purpose: "Visualização de Controle Financeiro",
                link: "https://google.com"
            }
            ,
            
            {
                name: "Planilha de Solicitação de Acesso à Transações SAP",
                sector: "Logística",
                purpose: "Planilha de Solicitação de Acesso à Transações SAP",
                link: "https://google.com"
            }
            ,



            {
                name: "Manutenção",
                sector: "Manutenção",
                purpose: "Manutenção",
                link: "https://google.com"
            }    ,
            
            {
                name: "Acompanhamento acadêmico",
                sector: "Acadêmico",
                purpose: "Acadêmico",
                link: "https://google.com"
            },
            {
                name: "Dashboard de Controle Financeiro",
                sector: "Finanças",
                purpose: "Visualização de Controle Financeiro",
                link: "https://google.com"
            }
            ,
            
            {
                name: "Planilha de Solicitação de Acesso à Transações SAP",
                sector: "Logística",
                purpose: "Planilha de Solicitação de Acesso à Transações SAP",
                link: "https://google.com"
            }
            
            
            
        ];

        let currentPage = 1;
        const itemsPerPage = 10;
        let filteredServices = services; 
        const whatsappNumber = "5575983519119"; 

        // SELEÇÃO DE ELEMENTOS PARA DESFOQUE
        const mainContent = document.getElementById('main-content');
        const backdrop = document.getElementById('backdrop');
        const header = document.querySelector('header');
        // FIM SELEÇÃO


        // --- Lógica de Paginação e Filtragem (MANTIDA) ---

        function displayServices() {
            const serviceList = document.getElementById('service-list');
            serviceList.innerHTML = ''; 

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;

            const paginatedServices = filteredServices.slice(startIndex, endIndex);

            paginatedServices.forEach(service => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td data-label="Serviço">${service.name}</td>
                    <td data-label="Ramo">${service.sector}</td>
                    <td data-label="Objetivo">${service.purpose}</td>
                    <td data-label="Link"><a href="${service.link}" target="_blank"><i class="fas fa-external-link-alt"></i> Acessar</a></td> 
                `;
                serviceList.appendChild(row);
            });

            updatePagination(filteredServices.length);
        }

        function filterServices() {
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            filteredServices = services.filter(service => {
                return (
                    service.name.toLowerCase().includes(searchInput) ||
                    service.sector.toLowerCase().includes(searchInput) ||
                    service.purpose.toLowerCase().includes(searchInput)
                );
            });
            currentPage = 1; 
            displayServices(); 
        }

        function updatePagination(totalItems) {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = ''; 

            const totalPages = Math.ceil(totalItems / itemsPerPage);

            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.innerText = i;
                pageButton.className = 'page-button';
                
                if (i === currentPage) {
                    pageButton.classList.add('active');
                }
                
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    displayServices(); 
                });
                pagination.appendChild(pageButton);
            }
        }

        // --- Lógica do Chat Bot ---

        let chatState = 0; 
        let chatData = {
            option: '',
            name: ''
        };

        const optionMap = {
            '1': 'Contratação de serviço',
            '2': 'Conhecimento das ferramentas',
            '3': 'Ajuste de algum serviço já contratado'
        };

        const chatBody = document.getElementById('chat-body');
        const chatInputContainer = document.getElementById('chat-input-container');
        const chatInput = document.getElementById('chat-input');


        // Funções de UI
        function createBotMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'bot-message';
            msgDiv.innerHTML = text;
            return msgDiv;
        }

        function createUserMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'user-message';
            msgDiv.innerHTML = text;
            return msgDiv;
        }

        // Funções de Rolagem
        function scrollToBottom() {
            requestAnimationFrame(() => {
                setTimeout(() => {
                    chatBody.scrollTop = chatBody.scrollHeight;
                }, 50); 
            });
        }

        function appendMessage(element) {
            chatBody.appendChild(element);
            scrollToBottom();
        }

        function openChat() {
            const modal = document.getElementById('chat-modal');
            
            // ATIVA: Desfoque e Backdrop
            backdrop.style.display = 'block';
            mainContent.classList.add('blur-content');
            header.classList.add('blur-content');

            modal.style.display = 'block';
            
            chatBody.innerHTML = '';
            chatState = 0; 
            chatData = { option: '', name: '' }; 
            chatInputContainer.classList.add('hidden'); 
            
            setTimeout(showInitialMessage, 300);
        }

        function closeChat() {
            const modal = document.getElementById('chat-modal');
            
            // DESATIVA: Desfoque e Backdrop
            backdrop.style.display = 'none';
            mainContent.classList.remove('blur-content');
            header.classList.remove('blur-content');

            modal.style.display = 'none';
        }

        // Funções de Fluxo
        function showInitialMessage() {
            const msg = createBotMessage("Olá! Sou o Assistente MB Tech. Como posso te ajudar hoje?");
            appendMessage(msg);

            const optionsDiv = document.createElement('div');
            optionsDiv.innerHTML = `
                <button class="chat-option" onclick="handleOption('1')">1. Contratação de serviço</button>
                <button class="chat-option" onclick="handleOption('2')">2. Conhecimento das ferramentas</button>
                <button class="chat-option" onclick="handleOption('3')">3. Ajuste de algum serviço já contratado</button>
            `;
            optionsDiv.style.marginBottom = '10px'; 
            appendMessage(optionsDiv);
            
            chatState = 0; // Estado inicial com opções
        }

        function handleOption(optionKey) {
            if (chatState !== 0) return;
            
            // Remove as opções
            const optionsDiv = chatBody.lastElementChild;
            if (optionsDiv && optionsDiv.classList.contains('chat-option') === false) { 
                optionsDiv.style.display = 'none';
            }

            // Registra a resposta do usuário
            chatData.option = optionMap[optionKey];
            appendMessage(createUserMessage(optionKey + ". " + chatData.option));

            // Próximo estado: Coletar Nome
            chatState = 1; 
            setTimeout(() => {
                chatInputContainer.classList.remove('hidden'); 
                chatInput.placeholder = "Digite seu nome...";
                chatInput.value = '';
                chatInput.focus();
                appendMessage(createBotMessage(`Perfeito! Você selecionou ${chatData.option}. Qual é o seu nome?`));
            }, 800); 
        }

        function handleInput() {
            const inputValue = chatInput.value.trim();

            // Se estivermos no estado de coletar o nome (1), processa
            if (!inputValue || chatState !== 1) return; 

            // Adiciona a mensagem do usuário ao chat
            appendMessage(createUserMessage(inputValue));
            chatInput.value = ''; // Limpa o input

            // Coletou o Nome
            chatData.name = inputValue;
            chatState = 2; // Finalizado
            
            // FINALIZA: Esconde o input e mostra o link do WhatsApp
            chatInputContainer.classList.add('hidden'); 

            setTimeout(() => {
                // Mensagem de finalização
                appendMessage(createBotMessage(`Obrigado, ${chatData.name}! Para finalizar o ${chatData.option} clique.`));
                showWhatsappLink();
            }, 800);
        }

        function showWhatsappLink() {
            // Monta a mensagem final com NOME e OPÇÃO
            const finalMessage = `
Olá! Meu nome é ${chatData.name} e preciso de ajuda com: ${chatData.option}.
`;

            const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(finalMessage.trim())}`;

            const linkButton = document.createElement('a');
            linkButton.href = whatsappLink;
            linkButton.target = "_blank";
            linkButton.className = 'chat-option whatsapp-link-btn';
            linkButton.innerHTML = '<i class="fab fa-whatsapp"></i> Iniciar Atendimento no WhatsApp';
            
            appendMessage(linkButton);
        }


        document.addEventListener('DOMContentLoaded', () => {
            // Inicializa a exibição da lista de serviços
            displayServices(); 
            // Adiciona o listener para a pesquisa
            document.getElementById('search-input').addEventListener('input', filterServices); 
        });
    </script>
</body>
</html>